<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal Rasmi Cawangan Antarabangsa KKM | BDHA</title>
    <link rel="icon" type="image/png" href="https://upload.wikimedia.org/wikipedia/commons/thumb/2/26/Coat_of_arms_of_Malaysia.svg/128px-Coat_of_arms_of_Malaysia.svg.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    
    <style>
        /* ==========================================
           1. CSS KESELURUHAN & HEADER/FOOTER PORTAL
        ============================================= */
        :root {
            --primary-blue: #0E1950; 
            --secondary-blue: #4865a4;
            --light-blue: #bed7f1;
        }

        body { font-family: 'Noto Sans', sans-serif; background-color: #f8f9fa; scroll-behavior: smooth;}

        /* Top Bar & Logo */
        .top-bar { background-color: var(--primary-blue); color: white; font-size: 13px; }
        .top-bar a { color: white; text-decoration: none; }
        .logo-section { border-bottom: 1px solid #eaeaea; }
        .portal-branding { padding: 10px 0; }
        .logo-img img { max-height: 85px; width: auto; }
        .vertical-divider { height: 60px; width: 1px; background-color: #dee2e6; margin: 0 1.5rem; }
        .portal-title { display: flex; flex-direction: column; justify-content: center; }
        .portal-title .top-text { font-size: 14px; font-weight: 500; color: #666; letter-spacing: 2px; line-height: 1; margin-bottom: 4px; }
        .portal-title .main-title { font-size: 24px; font-weight: 800; color: var(--primary-blue); line-height: 1.1; margin: 0; text-transform: uppercase; }

        /* Navigasi Utama */
        .main-nav { background: linear-gradient(180deg, var(--primary-blue) 0%, var(--secondary-blue) 100%); padding: 0; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        .main-nav .nav-link { color: white !important; font-weight: 600; padding: 15px 20px !important; transition: background 0.3s; }
        .main-nav .nav-link:hover, .main-nav .nav-link.active { background-color: rgba(255, 255, 255, 0.1); border-top: 3px solid var(--light-blue); }
        .has-megamenu { position: static !important; }
        .megamenu { position: absolute; left: 0; right: 0; width: 100%; border: none; border-radius: 0; margin-top: 0; border-top: 3px solid var(--secondary-blue); padding: 15px 0; }
        .megamenu h6 { color: var(--primary-blue); font-weight: bold; border-bottom: 2px solid var(--light-blue); padding-bottom: 10px; margin-bottom: 15px; }
        .megamenu ul li a { text-decoration: none; color: #333; display: block; padding: 5px 0; font-size: 15px; }
        .megamenu ul li a:hover { color: var(--secondary-blue); padding-left: 5px; transition: all 0.2s; }
        
        @media (min-width: 992px) {
            .main-nav .nav-item.dropdown .dropdown-menu { display: none !important; }
            .main-nav .nav-item.dropdown:hover .dropdown-menu { display: block !important; visibility: visible; opacity: 1; margin-top: 0; animation: fadeDropdown 0.3s ease forwards; }
        }
        @keyframes fadeDropdown { 0% { opacity: 0; transform: translateY(15px); } 100% { opacity: 1; transform: translateY(0); } }

        /* Footer */
        .footer-section { background-color: var(--primary-blue); border-top: 4px solid var(--secondary-blue); }
        .contact-info i { color: var(--light-blue); font-size: 1.2rem; }
        .footer-links li { margin-bottom: 10px; }
        .footer-links li a { color: #d8d8d8; text-decoration: none; transition: color 0.3s; }
        .footer-links li a:hover { color: var(--light-blue); padding-left: 5px; }
        .visitor-stats { background-color: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px; color: #d8d8d8; }


        /* ==========================================
           2. CSS KHAS UNTUK GALERI BENDERA NEGARA
        ============================================= */
        .gallery-section {
            font-family: 'Poppins', sans-serif;
            padding: 50px 20px;
            border-radius: 20px;
            margin-top: -48px;
            margin-bottom: 40px;
        }

        /* Container untuk Sticky Nav & Search */
        .sticky-nav-wrapper {
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 70px; 
            z-index: 1000;
            padding: 15px 0;
            margin-bottom: 20px;
            border-radius: 10px;
            flex-wrap: wrap; /* Pastikan ia boleh dibalut di skrin kecil */
            gap: 15px;
        }

        .nav-buttons-left {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .btn-nav {
            padding: 12px 20px;
            border-radius: 50px;
            border: none;
            background: #e0e5ec;
            box-shadow: 6px 6px 12px #a3b1c6, -6px -6px 12px #ffffff;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            color: #2c3e50;
            transition: 0.3s;
        }

        .btn-nav:hover {
            box-shadow: inset 4px 4px 8px #b8bec9, inset -4px -4px 8px #ffffff;
            color: var(--primary-blue);
        }

        .search-wrapper {
            display: flex;
            justify-content: flex-end;
            width: 100%;
            max-width: 300px;
        }

        #search-input {
            width: 100%;
            padding: 12px 20px;
            border-radius: 50px;
            border: none;
            background: #e0e5ec;
            box-shadow: inset 6px 6px 12px #b8bec9, inset -6px -6px 12px #ffffff;
            font-size: 0.9rem;
            outline: none;
            font-family: 'Poppins', sans-serif;
            color: #2c3e50;
        }

        /* Tajuk Section Bendera */
        .gallery-title {
            color: #2c3e50;
            margin: 40px 0 30px 0;
            text-shadow: 1px 1px 0px #fff;
            text-align: center;
            width: 100%;
            scroll-margin-top: 150px; 
            font-size: 1.8rem;
            font-weight: 700;
        }

        .hidden-title { display: none; }

        .flag-grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 30px;
            width: 100%;
            margin-bottom: 50px;
        }

        .country-card {
            background: #e0e5ec;
            border-radius: 20px;
            padding: 20px;
            text-align: center;
            box-shadow: 9px 9px 16px rgba(163,177,198,0.6), -9px -9px 16px rgba(255,255,255, 0.5);
            transition: 0.3s ease;
        }

        .country-card:hover { transform: scale(1.05); }
        .country-card.hidden { display: none; }

        .flag-wrapper {
            position: relative;
            width: 100%;
            height: 120px;
            background-color: #f5f5f5;
            border-radius: 12px;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        .flag-img {
            max-width: 95%;
            max-height: 90%;
            object-fit: contain;
            filter: drop-shadow(2px 4px 6px rgba(0,0,0,0.3));
        }

        .flag-wrapper::after {
            content: "";
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: linear-gradient(-45deg, rgba(0,0,0,0.2) 0%, transparent 20%, rgba(255,255,255,0.15) 35%, transparent 50%, rgba(0,0,0,0.1) 65%, transparent 80%, rgba(255,255,255,0.1) 100%);
            pointer-events: none;
            opacity: 0.8;
        }

        .country-card .name {
            display: block;
            font-weight: 600;
            color: #4a5568;
            font-size: 1rem;
            margin-top: 10px;
        }

        /* Responsif Mobile untuk Galeri */
        @media (max-width: 768px) {
            .sticky-nav-wrapper { flex-direction: column; background: rgba(209, 217, 230, 0.95); padding: 15px; border-radius: 15px;}
            .search-wrapper { max-width: 100%; }
            .gallery-title { font-size: 1.3rem; }
        }
    </style>
</head>

<body>

    <div id="header-placeholder"></div>

    <div class="container">
        
        <section class="gallery-section">
            
            <div class="sticky-nav-wrapper px-3">
                <div class="nav-buttons-left">
                    <button class="btn-nav" onclick="document.getElementById('title-asia').scrollIntoView({behavior: 'smooth'})">UNIT ASIA (A)</button>
                    <button class="btn-nav" onclick="document.getElementById('title-w').scrollIntoView({behavior: 'smooth'})">UNIT AFRIKA & EROPAH (W)</button>
                    <button class="btn-nav" onclick="document.getElementById('title-m').scrollIntoView({behavior: 'smooth'})">UNIT AMERIKA & TIMUR TENGAH (M)</button>
                </div>
                
                <div class="search-wrapper">
                    <input type="text" id="search-input" placeholder="Cari negara...">
                </div>
            </div>

            <h1 id="title-asia" class="gallery-title">Negara Unit Hubungan Dua Hala Dan Kerjasama Serantau Benua Asia (A) <br> Cawangan Antarabangsa KKM</h1>
            <div class="flag-grid-container" id="container-asia"></div>

            <h1 id="title-w" class="gallery-title">Negara Unit Hubungan Dua Hala Dan Kerjasama Serantau Benua Afrika Dan Eropah Timur (W) <br> Cawangan Antarabangsa KKM</h1>
            <div class="flag-grid-container" id="container-unit-w"></div>

            <h1 id="title-m" class="gallery-title">Negara Unit Hubungan Dua Hala Dan Kerjasama Serantau Benua Amerika Dan Timur Tengah (M) <br> Cawangan Antarabangsa KKM</h1>
            <div class="flag-grid-container" id="container-unit-m"></div>

        </section>
    </div>

    <div id="footer-placeholder"></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // --- A. SKRIP UNTUK MEMANGGIL HEADER & FOOTER ---
        fetch('header.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('header-placeholder').innerHTML = data;
                
                let currentPage = window.location.pathname.split("/").pop();
                if (currentPage === "") currentPage = "portal.html";
                currentPage = decodeURIComponent(currentPage);

                let navLinks = document.querySelectorAll('.main-nav a');
                navLinks.forEach(link => {
                    if (link.getAttribute('href') === currentPage) {
                        link.classList.add('active');
                        let parentDropdown = link.closest('.dropdown');
                        if (parentDropdown) {
                            let dropdownToggle = parentDropdown.querySelector('.dropdown-toggle');
                            if (dropdownToggle) dropdownToggle.classList.add('active');
                        }
                    }
                });
            });

        fetch('footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer-placeholder').innerHTML = data;
            });


        // --- B. SKRIP UNTUK GALERI BENDERA & CARIAN ---
        const asiaCountries = [
            { name: "AUSTRALIA", code: "au" }, { name: "BANGLADESH", code: "bd" },
            { name: "BHUTAN", code: "bt" }, { name: "BRUNEI DARUSSALAM", code: "bn" }, 
            { name: "CAMBODIA", code: "kh" }, { name: "CHINA (PRC)", code: "cn" }, 
            { name: "COOK ISLANDS", code: "ck" }, { name: "FIJI", code: "fj" },
            { name: "HONG KONG", code: "hk" }, { name: "INDIA", code: "in" },
            { name: "INDONESIA", code: "id" }, { name: "JEPUN", code: "jp" },
            { name: "KIRIBATI", code: "ki" }, { name: "LAO PDR", code: "la" },
            { name: "MALDIVES", code: "mv" }, { name: "MARSHALL ISLANDS", code: "mh" },
            { name: "MICRONESIA", code: "fm" }, { name: "MONGOLIA", code: "mn" },
            { name: "MYANMAR", code: "mm" }, { name: "NAURU", code: "nr" },
            { name: "NEPAL", code: "np" }, { name: "NEW ZEALAND", code: "nz" }, 
            { name: "NIUE", code: "nu" }, { name: "NORTH KOREA", code: "kp" },
            { name: "PALAU", code: "pw" }, { name: "PAPUA NEW GUINEA", code: "pg" }, 
            { name: "PHILIPPINES", code: "ph" }, { name: "SAMOA", code: "ws" },
            { name: "SINGAPORE", code: "sg" }, { name: "SOLOMON ISLANDS", code: "sb" },
            { name: "SOUTH KOREA", code: "kr" }, { name: "SRI LANKA", code: "lk" }, 
            { name: "TAIWAN", code: "tw" }, { name: "THAILAND", code: "th" }, 
            { name: "TIMOR-LESTE", code: "tl" }, { name: "TONGA", code: "to" },
            { name: "TUVALU", code: "tv" }, { name: "VANUATU", code: "vu" },
            { name: "VIETNAM", code: "vn" }
        ];

        const unitWCountries = [
            { name: "Albania", code: "al" }, { name: "Andorra", code: "ad" }, { name: "Armenia", code: "am" },
            { name: "Austria", code: "at" }, { name: "Azerbaijan", code: "az" }, { name: "Belarus", code: "by" },
            { name: "Belgium", code: "be" }, { name: "Bosnia and Herzegovina", code: "ba" }, { name: "Bulgaria", code: "bg" },
            { name: "Croatia", code: "hr" }, { name: "Cyprus", code: "cy" }, { name: "Czech Republic", code: "cz" },
            { name: "Denmark", code: "dk" }, { name: "Estonia", code: "ee" }, { name: "Finland", code: "fi" },
            { name: "France", code: "fr" }, { name: "Georgia", code: "ge" }, { name: "Germany", code: "de" },
            { name: "Greece", code: "gr" }, { name: "Hungary", code: "hu" }, { name: "Iceland", code: "is" },
            { name: "Ireland", code: "ie" }, { name: "Italy", code: "it" }, { name: "Kazakhstan", code: "kz" },
            { name: "Kyrgyzstan", code: "kg" }, { name: "Latvia", code: "lv" }, { name: "Lithuania", code: "lt" },
            { name: "Luxembourg", code: "lu" }, { name: "Malta", code: "mt" }, { name: "Moldova", code: "md" },
            { name: "Monaco", code: "mc" }, { name: "Montenegro", code: "me" }, { name: "Netherlands", code: "nl" },
            { name: "North Macedonia", code: "mk" }, { name: "Norway", code: "no" }, { name: "Poland", code: "pl" },
            { name: "Portugal", code: "pt" }, { name: "Romania", code: "ro" }, { name: "Russia", code: "ru" },
            { name: "San Marino", code: "sm" }, { name: "Serbia", code: "rs" }, { name: "Slovakia", code: "sk" },
            { name: "Slovenia", code: "si" }, { name: "Spain", code: "es" }, { name: "Sweden", code: "se" },
            { name: "Switzerland", code: "ch" }, { name: "Tajikistan", code: "tj" }, { name: "Turkiye", code: "tr" },
            { name: "Turkmenistan", code: "tm" }, { name: "Ukraine", code: "ua" }, { name: "United Kingdom", code: "gb" },
            { name: "Uzbekistan", code: "uz" }, { name: "Ethiopia", code: "et" }, { name: "Algeria", code: "dz" },
            { name: "Angola", code: "ao" }, { name: "Benin", code: "bj" }, { name: "Botswana", code: "bw" },
            { name: "Burkina Faso", code: "bf" }, { name: "Burundi", code: "bi" }, { name: "Cameroon", code: "cm" },
            { name: "Cape Verde", code: "cv" }, { name: "Central African Republic", code: "cf" }, { name: "Chad", code: "td" },
            { name: "Comoros", code: "km" }, { name: "Ivory Coast", code: "ci" }, { name: "Democratic Republic of the Congo", code: "cd" },
            { name: "Equatorial Guinea", code: "gq" }, { name: "Eritrea", code: "er" }, { name: "Gabon", code: "ga" },
            { name: "Gambia", code: "gm" }, { name: "Ghana", code: "gh" }, { name: "Guinea", code: "gn" },
            { name: "Kenya", code: "ke" }, { name: "Guinea-Bissau", code: "gw" }, { name: "Lesotho", code: "ls" },
            { name: "Liberia", code: "lr" }, { name: "Madagascar", code: "mg" }, { name: "Malawi", code: "mw" },
            { name: "Mali", code: "ml" }, { name: "Mauritania", code: "mr" }, { name: "Mauritius", code: "mu" },
            { name: "Mozambique", code: "mz" }, { name: "Namibia", code: "na" }, { name: "Niger", code: "ne" },
            { name: "Nigeria", code: "ng" }, { name: "Rwanda", code: "rw" }, { name: "Sao Tome and Principe", code: "st" },
            { name: "Senegal", code: "sn" }, { name: "Seychelles", code: "sc" }, { name: "South Africa", code: "za" },
            { name: "Sierra Leone", code: "sl" }, { name: "South Sudan", code: "ss" }, { name: "Eswatini (Swatini)", code: "sz" },
            { name: "Togo", code: "tg" }, { name: "Uganda", code: "ug" }, { name: "Tanzania", code: "tz" },
            { name: "Zambia", code: "zm" }, { name: "Zimbabwe", code: "zw" },
            { name: "WHO", code: "who" }, { name: "UNHCR", code: "unhcr" }, { name: "UNICEF", code: "unicef" }, { name: "United Nations (UN)", code: "un" }
        ];

        // DATA UNTUK UNIT M (Baru Ditambah)
        const unitMCountries = [
            { name: "Afghanistan", code: "af" }, { name: "Antigua and Barbuda", code: "ag" }, { name: "Argentina", code: "ar" },
            { name: "Bahamas", code: "bs" }, { name: "Bahrain", code: "bh" }, { name: "Barbados", code: "bb" },
            { name: "Belize", code: "bz" }, { name: "Bolivia", code: "bo" }, { name: "Brazil", code: "br" },
            { name: "Canada", code: "ca" }, { name: "Chile", code: "cl" }, { name: "Colombia", code: "co" },
            { name: "Costa Rica", code: "cr" }, { name: "Cuba", code: "cu" }, { name: "Djibouti", code: "dj" },
            { name: "Dominica", code: "dm" }, { name: "Dominican Republic", code: "do" }, { name: "Ecuador", code: "ec" },
            { name: "Egypt", code: "eg" }, { name: "El Salvador", code: "sv" }, { name: "Grenada", code: "gd" },
            { name: "Guatemala", code: "gt" }, { name: "Guyana", code: "gy" }, { name: "Haiti", code: "ht" },
            { name: "Honduras", code: "hn" }, { name: "Iran", code: "ir" }, { name: "Iraq", code: "iq" },
            { name: "Jamaica", code: "jm" }, { name: "Jordan", code: "jo" }, { name: "Kuwait", code: "kw" },
            { name: "Lebanon", code: "lb" }, { name: "Libya", code: "ly" }, { name: "Mexico", code: "mx" },
            { name: "Morocco", code: "ma" }, { name: "Nicaragua", code: "ni" }, { name: "Oman", code: "om" },
            { name: "Pakistan", code: "pk" }, { name: "Palestine", code: "ps" }, { name: "Panama", code: "pa" },
            { name: "Paraguay", code: "py" }, { name: "Peru", code: "pe" }, { name: "Qatar", code: "qa" },
            { name: "Saint Kitts and Nevis", code: "kn" }, { name: "Saint Lucia", code: "lc" }, { name: "Saint Vincent and the Grenadines", code: "vc" },
            { name: "Saudi Arabia", code: "sa" }, { name: "Somalia", code: "so" }, { name: "Sudan", code: "sd" },
            { name: "Suriname", code: "sr" }, { name: "Syria", code: "sy" }, { name: "Trinidad and Tobago", code: "tt" },
            { name: "Tunisia", code: "tn" }, { name: "United Arab Emirates", code: "ae" }, { name: "United States", code: "us" },
            { name: "Uruguay", code: "uy" }, { name: "Venezuela", code: "ve" }, { name: "Yemen", code: "ye" }
        ];

        function displayFlags(data, containerId) {
            const container = document.getElementById(containerId);
            data.forEach(country => {
                const card = document.createElement('div');
                card.className = 'country-card';
                card.setAttribute('data-name', country.name.toLowerCase());
                card.innerHTML = `
                    <div class="flag-wrapper">
                        <img src="https://flagcdn.com/w640/${country.code}.png" alt="${country.name}" class="flag-img">
                    </div>
                    <span class="name">${country.name}</span>
                `;
                container.appendChild(card);
            });
        }

        // PANGGIL SEMUA 3 UNIT
        displayFlags(asiaCountries, 'container-asia');
        displayFlags(unitWCountries, 'container-unit-w');
        displayFlags(unitMCountries, 'container-unit-m');

        // FUNGSI CARIAN
        const searchInput = document.getElementById('search-input');
        searchInput.addEventListener('input', (e) => {
            const filter = e.target.value.toLowerCase();
            const cards = document.querySelectorAll('.country-card');
            
            cards.forEach(card => {
                const name = card.getAttribute('data-name');
                if (name.includes(filter)) {
                    card.classList.remove('hidden');
                } else {
                    card.classList.add('hidden');
                }
            });

            // SEMAK TAJUK SEMUA 3 UNIT
            checkTitleVisibility('container-asia', 'title-asia');
            checkTitleVisibility('container-unit-w', 'title-w');
            checkTitleVisibility('container-unit-m', 'title-m');
        });

        function checkTitleVisibility(containerId, titleId) {
            const container = document.getElementById(containerId);
            const title = document.getElementById(titleId);
            const hasVisibleItems = Array.from(container.children).some(card => !card.classList.contains('hidden'));
            title.classList.toggle('hidden-title', !hasVisibleItems);
        }
    </script>
</body>
</html>

